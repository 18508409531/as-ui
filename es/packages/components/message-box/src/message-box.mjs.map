{"version":3,"file":"message-box.mjs","sources":["../../../../../../../packages/components/message-box/src/message-box.ts"],"sourcesContent":["import { render, h } from 'vue'\nimport MessageBoxConstructor from './index.vue'\nimport type { MessageBoxParams, MessageContext } from './message-box.type'\n\nexport const MessageBox = (options: MessageBoxParams) => {\n  const container = document.createElement('div')\n  // 销毁\n  const onDestory = () => {\n    render(null, container)\n  }\n  const { onUserCancel, onUserConfirm } = options\n  // 构建回调\n  const props = {\n    ...options,\n    onDestory,\n    onAction: (state: string) => {\n      if (state === 'confirm') {\n        onUserConfirm?.()\n      } else {\n        onUserCancel?.()\n      }\n    }\n  }\n  // 构建vnode\n  const vnode = h(MessageBoxConstructor, props as any)\n  // 渲染dom\n  render(vnode, container)\n  // 挂在节点\n  document.body.appendChild(container.firstElementChild!)\n  // 获取实例\n  const vm = vnode.component!\n  // 构建返回\n  const handler = {\n    close: () => {\n      vm.exposeProxy!.visible = false\n    }\n  }\n  // 返回组件实例\n  const instance: MessageContext = {\n    vm,\n    vnode,\n    handler,\n    props: (vnode.component as any).props\n  }\n  // 显示弹窗\n  vm.exposeProxy!.visible = true\n\n  return instance\n}\n\nexport default MessageBox\n"],"names":[],"mappings":";;;AAIa,MAAA,UAAA,GAAa,CAAC,OAA8B,KAAA;AACvD,EAAM,MAAA,SAAA,GAAY,QAAS,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAE9C,EAAA,MAAM,YAAY,MAAM;AACtB,IAAA,MAAA,CAAO,MAAM,SAAS,CAAA,CAAA;AAAA,GACxB,CAAA;AACA,EAAM,MAAA,EAAE,YAAc,EAAA,aAAA,EAAkB,GAAA,OAAA,CAAA;AAExC,EAAA,MAAM,KAAQ,GAAA;AAAA,IACZ,GAAG,OAAA;AAAA,IACH,SAAA;AAAA,IACA,QAAA,EAAU,CAAC,KAAkB,KAAA;AAC3B,MAAA,IAAI,UAAU,SAAW,EAAA;AACvB,QAAA,aAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,aAAA,EAAA,CAAA;AAAA,OACK,MAAA;AACL,QAAA,YAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,YAAA,EAAA,CAAA;AAAA,OACF;AAAA,KACF;AAAA,GACF,CAAA;AAEA,EAAM,MAAA,KAAA,GAAQ,CAAE,CAAA,qBAAA,EAAuB,KAAY,CAAA,CAAA;AAEnD,EAAA,MAAA,CAAO,OAAO,SAAS,CAAA,CAAA;AAEvB,EAAS,QAAA,CAAA,IAAA,CAAK,WAAY,CAAA,SAAA,CAAU,iBAAkB,CAAA,CAAA;AAEtD,EAAA,MAAM,KAAK,KAAM,CAAA,SAAA,CAAA;AAEjB,EAAA,MAAM,OAAU,GAAA;AAAA,IACd,OAAO,MAAM;AACX,MAAA,EAAA,CAAG,YAAa,OAAU,GAAA,KAAA,CAAA;AAAA,KAC5B;AAAA,GACF,CAAA;AAEA,EAAA,MAAM,QAA2B,GAAA;AAAA,IAC/B,EAAA;AAAA,IACA,KAAA;AAAA,IACA,OAAA;AAAA,IACA,KAAA,EAAQ,MAAM,SAAkB,CAAA,KAAA;AAAA,GAClC,CAAA;AAEA,EAAA,EAAA,CAAG,YAAa,OAAU,GAAA,IAAA,CAAA;AAE1B,EAAO,OAAA,QAAA,CAAA;AACT;;;;"}